<!DOCTYPE html>
<html>
<head>
	<title>GMOJ Rating - Contribute</title>
	<meta charset="UTF-8">
	<meta name="renderer" content="webkit">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	
	<!-- <link rel="icon" href="https://codetiger.me/image/article/image16.png"> -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
	<link rel="icon" href="../favicon.png">

	<link rel="stylesheet" href="../css/main.css">
	<link rel="stylesheet" href="../css/utility.css">

	<meta name="keywords" content="gmoj,codeforces,rating,estimator,practice,converter,contribute">
	<meta name="description" content="A tool to estimate the difficulties of GMOJ problems in terms of CodeForces rating.">
	<meta name="Author" content="CodeTiger">

	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
</head>

<body>
	<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
		<a class="mb-0 h1 navbar-brand active" href="../">GMOJ Rating</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
			<li class="nav-item">
				<a class="nav-link" href="../">Problems</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="./faq.html">FAQ</a>
			</li>
			<li class="nav-item active">
				<a class="nav-link" href="./contribute.html">Contribute</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="./vote.html">Vote</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="./about.html">About</a>
			</li>
			<li class="nav-item dropdown">
			<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			Links
			</a>
			<div class="dropdown-menu" aria-labelledby="navbarDropdown">
				<a class="dropdown-item" href="https://gmoj.net/">GMOJ</a>
				<a class="dropdown-item" href="https://github.com/ZnPdCo/GMOJ-Rating">GitHub</a>
				<a class="dropdown-item" href="https://codetiger.me/">CodeTiger</a>
			</div>
			</li>
			</ul>
		</div>
	</nav>

	<div class="main-container" style="margin-left: 10%;width: 80%;margin-right: 10%;">
		<h4>欢迎给 GMOJ 题目打分</h4>
		<hr>
		<p>喜欢这种热情！然而，我们对谁“有资格”投票有点严格，因为我们希望保持最高的质量。由于该项目估计了CodeForce评级方面的困难，我们确实要求选民在CF有经验。</p>
		<p>如果您的评级为<b>0+</b>，那么您绝对符合我们的标准！我们建议您使用下面的<b>自动注册系统</b>！<br></p>
		<div class="alert alert-warning">
			<b><i>先做这个</i>:</b> 在CodeForces中更改您的 First Name 为（暂时地） <a href="https://codeforces.com/settings/social" target="_blank">HERE</a> to "<b>GMOJ-Rating-verify</b>" 在注册之前。
		</div>
		<div id="status"></div>
		<br>
		<div class="grayContainer" style="font-size: 21px;">
			<label for="username"><b>CodeForces Handle</b></label>
			<input required type="text" class="form-control" id="username" placeholder="Enter CodeForces Handle">
			<br>
			<label for="name"><b>Name (just first name is fine)</b></label>
			<input required type="text" class="form-control" id="name" placeholder="Enter your name">
			<br>
			<button type="submit" class="btn btn-primary" onclick="register();">Register</button>
		</div>
	</div>

	<div class="modal fade" id="statusUpdate" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title" id="announcementTitles">YOU ARE IN!!!</h4>
				</div>
				<div class="modal-body">
					<p>感谢您自愿为GMOJ评级投票！在我给你邀请链接之前，这里有一些提示：</p>
					<ol>
						<li>记得点击页面底部的“<b>保存投票</b>”按钮。此外，保存需要几秒钟的时间，所以如果网站的保存时间比预期的要长，也不要担心。</li>
						<li> 在分区之间切换时，投票<b>不会自动保存</b>。因此，在保存投票之前，请注意不要点击其他选项卡。</li>
					</ol>

					<p>这是您的邀请链接（记住不要与他人共享，因为这样他们就可以冒充您）：<a href="" id="uniqueLink"></a>。请注意，一旦您单击链接，您的登录信息应自动保存在cookie中，您以后可以使用“投票”选项卡。</p>

					<p>再次感谢您愿意帮助这个项目！非常感谢<3</p>

					<p>希望你今天过得愉快，</p>
					<p>CodeTiger</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		function register() {
			var username = $("#username").val();
			var name = $("#name").val();
			$.post("../backend/data.php",{"type":7,"username":username,"name":name},(data) => {
				console.log(data);
				if(data["status"] == 1) {
					// Yay success
					var id = data["id"];
					$("#uniqueLink").attr("href","/frontend/vote.html?id=" + id);
					$("#uniqueLink").text("/frontend/vote.html?id=" + id);
					$("#statusUpdate").modal("show");
				}else{
					// Some error
					var message = data["message"];
					$("#status").empty();
					$("#status").html("<div class='alert alert-danger'><b>An error has occured!</b> " + message + "</div>");
				}
			});
		}
	</script>
</body>
</html>